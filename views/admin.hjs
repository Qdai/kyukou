<!doctype html>
<html
   data-ng-app="adminApp">
<head>
  <meta charset="utf-8" />
  <title><%site.name%> admin</title>
  <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><![endif]-->
  <meta name="author" content="<%site.author%>" />
  <meta name="viewport" content="width=device-width">
  <script src="/lib/angular/angular.min.js" defer></script>
  <script src="/lib/angular-bootstrap/ui-bootstrap-tpls.min.js" defer></script>
  <script src="/js/admin.js" defer></script>
  <link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/css/main.css" />
  <style>
    .nav.nav-tabs {
      margin-bottom: 20px;
    }

    th, td {
      max-width: 250px;
      overflow: hidden;
    }
  </style>
</head>
<body class="container">
  <header class="page-header clearfix">
    <h1 class="pull-left"><%site.name%> admin</h1>
    <p class="pull-right"><a class="btn btn-default btn-lg" href="/admin/logout">Logout</a></p>
  </header>
  <main role="main"
     data-ng-controller="adminCtrl">
    <tabset>
      <tab heading="List">
        <table class="table table-bordered table-hover">
          <thead>
            <tr>
              <th>hash</th>
              <th>about</th>
              <th>link</th>
              <th>eventDate</th>
              <th>pubDate</th>
              <th>period</th>
              <th>department</th>
              <th>subject</th>
              <th>teacher</th>
              <th>campus</th>
              <th>room</th>
              <th>note</th>
              <th>raw</th>
              <th>tweet.new</th>
              <th>tweet.tomorrow</th>
            </tr>
          </thead>
          <tbody>
            <tr
               data-ng-repeat="event in events">
              <td>{{event.hash}}</td>
              <td>{{event.about}}</td>
              <td>{{event.link}}</td>
              <td>{{event.eventDate}}</td>
              <td>{{event.pubDate}}</td>
              <td>{{event.period}}</td>
              <td>{{event.department}}</td>
              <td>{{event.subject}}</td>
              <td>{{event.teacher}}</td>
              <td>{{event.campus}}</td>
              <td>{{event.room}}</td>
              <td>{{event.note}}</td>
              <td>{{event.raw}}</td>
              <td>{{event.tweet.new}}</td>
              <td>{{event.tweet.tomorrow}}</td>
            </tr>
          </tbody>
        </table>
      </tab>
      <tab heading="Add">
        <alert ng-repeat="alert in addAlerts" type="{{alert.type}}" close="closeaddAlert($index)">{{alert.message}}</alert>
        <form class="form-inline" role="form"
           ng-submit="addEvent(add)">
          <p>
            <label for="add-about">about</label>
            <input name="about" id="add-about" class="form-control" type="text" required
               ng-model="add.about" />
          </p>
          <p>
            <label for="add-link">link</label>
            <input name="link" id="add-link" class="form-control" type="text" required
               ng-model="add.link" />
          </p>
          <p>
            <label for="add-eventDate">eventDate</label>
            <input name="eventDate" id="add-eventDate" class="form-control" type="text" required
               ng-model="add.eventDate" />
          </p>
          <p>
            <label for="add-pubDate">pubDate</label>
            <input name="pubDate" id="add-pubDate" class="form-control" type="text"
               ng-model="add.pubDate" />
          </p>
          <p>
            <label for="add-period">period</label>
            <input name="period" id="add-period" class="form-control" type="text" required
               ng-model="add.period" />
          </p>
          <p>
            <label for="add-department">department</label>
            <input name="department" id="add-department" class="form-control" type="text" required
               ng-model="add.department" />
          </p>
          <p>
            <label for="add-subject">subject</label>
            <input name="subject" id="add-subject" class="form-control" type="text" required
               ng-model="add.subject" />
          </p>
          <p>
            <label for="add-teacher">teacher</label>
            <input name="teacher" id="add-teacher" class="form-control" type="text"
               ng-model="add.teacher" />
          </p>
          <p>
            <label for="add-campus">campus</label>
            <input name="campus" id="add-campus" class="form-control" type="text"
               ng-model="add.campus" />
          </p>
          <p>
            <label for="add-room">room</label>
            <input name="room" id="add-room" class="form-control" type="text"
               ng-model="add.room" />
          </p>
          <p>
            <label for="add-note">note</label>
            <input name="note" id="add-note" class="form-control" type="text"
               ng-model="add.note" />
          </p>
          <p>
            <label for="add-raw">raw</label>
            <input name="raw" id="add-raw" class="form-control" type="text" required
               ng-model="add.raw" />
          </p>
          <p>
            <label for="add-tweetnew">tweet.new</label>
            <input name="tweetnew" id="add-tweetnew" class="form-control" type="text" required
               ng-model="add.tweet.new" />
          </p>
          <p>
            <label for="add-tweettomorrow">tweet.tomorrow</label>
            <input name="tweettomorrow" id="add-tweettomorrow" class="form-control" type="text" required
               ng-model="add.tweet.tomorrow" />
          </p>
          <p>
            <input type="submit" class="btn btn-primary btn-lg" value="Add" />
          </p>
        </form>
      </tab>
      <tab heading="Edit">
        <alert ng-repeat="alert in editAlerts" type="{{alert.type}}" close="closeEditAlert($index)">{{alert.message}}</alert>
        <form class="form-inline" role="form"
           ng-submit="editEvent(edit)">
          <p>
            <label for="edit-hash">hash</label>
            <input name="hash" id="edit-hash" class="form-control" type="text" required
               ng-model="edit.hash" />
          </p>
          <p>
            <label for="edit-key">key</label>
            <select name="key" id="edit-key" class="form-control" required
               ng-model="edit.key">
              <option value="about">about</option>
              <option value="link">link</option>
              <option value="eventDate">eventDate</option>
              <option value="period">period</option>
              <option value="department">department</option>
              <option value="subject">subject</option>
              <option value="teacher">teacher</option>
              <option value="campus">campus</option>
              <option value="room">room</option>
              <option value="note">note</option>
              <option value="raw">raw</option>
              <option value="tweet.new">tweet.new</option>
              <option value="tweet.tomorrow">tweet.tomorrow</option>
            </select>
          </p>
          <p>
            <label for="edit-value">value</label>
            <input name="value" id="edit-value" class="form-control" type="text" required
               ng-model="edit.value" />
          </p>
          <p>
            <input type="submit" class="btn btn-primary btn-lg" value="Edit" />
          </p>
        </form>
      </tab>
      <tab heading="Delete">
        <alert ng-repeat="alert in deleteAlerts" type="{{alert.type}}" close="closeDeleteAlert($index)">{{alert.message}}</alert>
        <form class="form-inline" role="form"
           ng-submit="deleteEvent(delete)">
          <p>
            <label for="delete-hash">hash</label>
            <input name="hash" id="delete-hash" class="form-control" type="text" required
               ng-model="delete.hash" />
          </p>
          <p>
            <input type="submit" class="btn btn-danger btn-lg" value="Delete" />
          </p>
        </form>
      </tab>
    </tabset>
  </main>
  <footer class="page-footer">
    <p class="text-center lead"><a target="_blank" href="https://twitter.com/<%site.twitter%>" title="Twitter: @<%site.twitter%>">Twitter</a> 路 <a href="/rss" title="RSS">RSS</a> 路 <a href="/status" title="Status">Status</a> 路 <a href="/api" title="API">API</a></p>
    <p class="text-center"><a href="/" title="<%site.name%> <%site.version%>"><%site.name%></a> <small><%site.version%></small> by <a target="_blank" href="https://github.com/<%site.author%>" title="Github: @<%site.author%>">@<%site.author%></a> 路 Open Sourced on <a target="_blank" href="https://github.com/<%site.author%>/kyukou" title="<%site.author%>/kyukou">GitHub</a></p>
  </footer>
</body>
</html>
